<div class="form-container d-flex align-items-center justify-content-center bg-dark bg-opacity-90 background-pattern">
    <div class="card shadow-lg border-0 p-4 rounded-4" style="max-width: 400px; background-color: rgba(255, 255, 255, 0.95);">
      <!-- Header -->
      <div class="text-center mb-4">
        <h2 class="text-dark fw-bold fs-4">
          Registro
        </h2>
        <p class="text-dark small">
          ¡Disfruta nuestra comunidad!
        </p>
      </div>
  
      <!-- Form -->
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <!-- Email Field -->
        <div class="mb-3">
          <label for="email" class="form-label small fw-semibold text-dark">Correo electrónico</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            class="form-control"
            [ngClass]="{'is-invalid': email?.invalid && email?.touched}"
            placeholder="your.email@example.com"
          />
          <div *ngIf="email?.invalid && email?.touched" class="invalid-feedback small">
            <span *ngIf="email?.errors?.['required']">Correo necesario</span>
            <span *ngIf="email?.errors?.['pattern']">Por favor ingresar un correo valido</span>
          </div>
        </div>
  
        <!-- Username Field -->
        <div class="mb-3">
          <label for="username" class="form-label small fw-semibold text-dark">Nombre de usuario</label>
          <input
            type="text"
            id="username"
            formControlName="username"
            class="form-control"
            [ngClass]="{'is-invalid': username?.invalid && username?.touched}"
            placeholder="coolmanga123"
          />
          <div *ngIf="username?.invalid && username?.touched" class="invalid-feedback small">
            <span *ngIf="username?.errors?.['required']">Nombre de usuario necesario</span>
            <span *ngIf="username?.errors?.['minlength']">El nombre de usuario debe tener al menos 3 caracteres</span>
            <span *ngIf="username?.errors?.['maxlength']">El nombre de usuario debe tener menos de 20 caracteres</span>
          </div>
        </div>
  
        <!-- Password Field -->
        <div class="mb-3">
          <label for="password" class="form-label small fw-semibold text-dark">Password</label>
          <div class="input-group">
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              class="form-control"
              [ngClass]="{'is-invalid': password?.invalid && password?.touched}"
              placeholder="••••••••"
            />
            <button
            type="button"
            class="btn btn-outline-secondary"
            (click)="togglePasswordVisibility()"
          >
            <i class="bi" [class.bi-eye]="!showPassword" [class.bi-eye-slash]="showPassword"></i>
          </button>
          </div>
          <div class="form-text small text-danger mt-1">
            <ul class="list-unstyled mb-0">
              <li *ngFor="let requirement of getPasswordRequirements()" class="d-flex align-items-center">
                <i class="fas fa-times text-danger me-2"></i>
                {{ requirement }}
              </li>
            </ul>
          </div>
        </div>
  
        <!-- Error Message -->
        <div *ngIf="errorMessage" class="alert alert-danger small py-2">
          {{ errorMessage }}
        </div>
  
        <!-- Submit Button -->
        <div class="mt-4">
          <button
            type="submit"
            [disabled]="registerForm.invalid || isLoading"
            class="btn btn-primary w-100 d-flex justify-content-center align-items-center"
          >
            <span *ngIf="!isLoading">Crear cuenta</span>
            <div *ngIf="isLoading" class="spinner-border spinner-border-sm ms-2"></div>
          </button>
        </div>

        <div class="text-center small mt-3">
          <a routerLink="/auth/verify-email" class="text-primary text-decoration-none">
            Validar cuenta
          </a>
        </div>
  
        <!-- Login Link -->
        <div class="text-center small mt-3">
          <p class="text-dark">
            ¿Ya tienes una cuenta?
            <a routerLink="/auth/login" class="text-primary text-decoration-none">
              Ingresa aquí
            </a>
          </p>
        </div>
      </form>
    </div>
  </div>
  